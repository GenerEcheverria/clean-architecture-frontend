<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter">
</head>
<div class="row m-0 p-0 bg-secondary" id="cajaExterior">
    <div class="col-3"></div>
    <div class="col-6 border border-azure-web mt-5 mb-5 bg-white rounded-5">
        <div class="row">
            <div class="col-12 m-0 p-0">
                <div  style="text-align: center;">
                    <h4 class="m-0 p-0 mt-3 p-3 fw-bold" style="font-family: 'Inter';">Regístrate</h4>
                </div>
                <form *ngIf="formLogin" [formGroup]="formLogin" (ngSubmit)="onSubmit()" class="mb-4">
                    <div *ngIf="imageSrc!=''">
                        <div class="row">
                            <div class="col-8 m-0 p-0">
                                <div class="m-0 p-0 mt-2 p-3">
                                    <label for="Nombre">Nombre:</label>
                                    <input type="text" id="Nombre" pattern="^[A-Z][a-z]*$" formControlName="Nombre" class="form-control rounded-pill bg-azure-web mt-2" >
                                
                                    <div *ngIf="formLogin.get('Nombre')?.invalid && (formLogin.get('Nombre')?.dirty || formLogin.get('Nombre')?.touched)">
                                        <div class="control-error" *ngIf="formLogin.get('Nombre')?.errors?.['required']">El campo Nombre es requerido.</div>
                                        <div class="control-error" *ngIf="formLogin.get('Nombre')?.errors?.['minlength']">No es un Nombre válido</div>
                                    </div>
                                
                                </div>
                                <div class="m-0 p-0 mt-2 p-3">
                                    <label for="email">Correo electrónico:</label>
                                    <input type="email" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" formControlName="email" class="form-control rounded-pill bg-azure-web mt-2" >
                                
                                    <div *ngIf="formLogin.get('email')?.invalid && (formLogin.get('email')?.dirty || formLogin.get('email')?.touched)">
                                        <div class="control-error" *ngIf="formLogin.get('email')?.errors?.['required']">El campo Email es requerido.</div>
                                        <div class="control-error" *ngIf="formLogin.get('email')?.errors?.['email']">No es un email válido</div>
                                    </div>
                                
                                </div>
                                <div class="m-0 p-0 mt-2 p-3">
                                    <label for="telefono">Teléfono:</label>
                                    <input type="telefono" id="telefono" pattern="^[0-9]+$" formControlName="telefono" class="form-control rounded-pill bg-azure-web mt-2">
                                    <div *ngIf="formLogin.get('telefono')?.invalid && (formLogin.get('telefono')?.dirty || formLogin.get('telefono')?.touched)">
                                        <div class="control-error" *ngIf="formLogin.get('telefono')?.errors?.['required']">Se requiere un número telefónico</div>
                                        <div class="control-error" *ngIf="formLogin.get('telefono')?.errors?.['minlength']">El teléfono debe tener 10 números</div>
                                        <div class="control-error" *ngIf="formLogin.get('telefono')?.errors?.['maxlength']">El teléfono debe tener 10 números</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4 m-0 p-0">
                                <div class="m-0 p-0 mt-2 p-3">
                                    <img [src]="imageSrc" *ngIf="imageSrc" style="width: 80%;" alt="Foto de perfil" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="imageSrc==''">
                        <div class="m-0 p-0 mt-2 p-3">
                            <label for="Nombre">Nombre:</label>
                            <input type="text" id="Nombre" pattern="^[A-Za-záéíóúÁÉÍÓÚñÑüÜ\s]+$" formControlName="Nombre" class="form-control rounded-pill bg-azure-web mt-2" >
                        
                            <div *ngIf="formLogin.get('Nombre')?.invalid && (formLogin.get('Nombre')?.dirty || formLogin.get('Nombre')?.touched)">
                                <div class="control-error" *ngIf="formLogin.get('Nombre')?.errors?.['required']">El campo Nombre es requerido.</div>
                                <div class="control-error" *ngIf="formLogin.get('Nombre')?.errors?.['minlength']">El campo Nombre debe ser mayor a 3 caracteres</div>
                            </div>
                        
                        </div>
                        <div class="m-0 p-0 mt-2 p-3">
                            <label for="email">Correo electrónico:</label>
                            <input type="email" id="email" formControlName="email" class="form-control rounded-pill bg-azure-web mt-2">
                            
                            <div *ngIf="formLogin.get('email')?.touched" class="control-error">
                              <div *ngIf="formLogin.get('email')?.hasError('required')">El campo Email es requerido.</div>
                              <div *ngIf="formLogin.get('email')?.value !== '' && formLogin.get('email')?.hasError('emailInvalid')">Correo no válido.</div>
                            </div>
                        </div>
                        <div class="m-0 p-0 mt-2 p-3">
                            <label for="telefono">Teléfono:</label>
                            <input type="telefono" id="telefono" pattern="^[0-9]+$" formControlName="telefono" class="form-control rounded-pill bg-azure-web mt-2">
                            <div *ngIf="formLogin.get('telefono')?.invalid && (formLogin.get('telefono')?.dirty || formLogin.get('telefono')?.touched)">
                                <div class="control-error" *ngIf="formLogin.get('telefono')?.errors?.['required']">Se requiere un número telefónico</div>
                                <div class="control-error" *ngIf="formLogin.get('telefono')?.errors?.['minlength']">El teléfono debe tener 10 números</div>
                                <div class="control-error" *ngIf="formLogin.get('telefono')?.errors?.['maxlength']">El teléfono debe tener 10 números</div>
                            </div>
                        </div>
                    </div>
                    <div class="m-0 p-0 mt-2 p-3">
                        <label for="fotoPerfil">Foto de perfil:</label>
                        <input type="file" id="fotoPerfil" name="fotoPerfil" accept="image/*" formControlName="fotoPerfil" (change)="onFileChange($event)" class="form-control rounded-pill bg-azure-web mt-2" />
                        <div *ngIf="formLogin.get('fotoPerfil')?.invalid && (formLogin.get('fotoPerfil')?.dirty || formLogin.get('fotoPerfil')?.touched)">
                          <div class="control-error" *ngIf="formLogin.get('fotoPerfil')?.errors?.['required']">Se requiere una foto de perfil</div>
                          <div class="control-error" *ngIf="formLogin.get('fotoPerfil')?.errors?.['pattern']">El archivo seleccionado no es una imagen válida</div>
                          <div class="control-error" *ngIf="formLogin.get('fotoPerfil')?.errors?.['dimensions']">La imagen debe tener el mismo ancho y alto</div>
                        </div>
                    </div>
                    <form [formGroup]="formLogin" (ngSubmit)="onSubmit()">
                        <div class="m-0 p-0 mt-2 p-3">
                          <label for="password">Contraseña:</label>
                          <input type="password" id="password" formControlName="password" [(ngModel)]="pass" class="form-control rounded-pill bg-azure-web mt-2">
                          <div *ngIf="formLogin.get('password')?.touched && formLogin.get('password')?.invalid">
                            <div class="control-error" *ngIf="formLogin.get('password')?.errors?.['required']">Se requiere una contraseña</div>
                            <div class="control-error" *ngIf="formLogin.get('password')?.errors?.['minlength']">La contraseña debe tener al menos 8 caracteres</div>
                          </div>
                        </div>
                      
                        <div class="m-0 p-0 mt-2 p-3">
                          <label for="confirmPassword">Confirmar Contraseña:</label>
                          <input type="password" id="confirmPassword" formControlName="confirmPassword" [(ngModel)]="pass2" class="form-control rounded-pill bg-azure-web mt-2">
                          <div *ngIf="formLogin.get('confirmPassword')?.touched && formLogin.get('confirmPassword')?.invalid">
                            <div class="control-error" *ngIf="formLogin.get('confirmPassword')?.errors?.['required']">Se requiere confirmar la contraseña</div>
                            <div class="control-error" *ngIf="formLogin.get('confirmPassword')?.errors?.['passwordsNotMatch']">Las contraseñas no coinciden</div>
                          </div>
                        </div>
                      
                        <div class="d-flex justify-content-center m-0 p-0 mt-3 p-3">
                          <button type="submit" [disabled]="formLogin.invalid" class="btn btn-primary rounded-pill w-50 text-white">Crear cuenta</button>
                        </div>
                      </form>
                                                                            
                </form>
                <div class="m-0 p-0 p-3 d-flex justify-content-center">
                    <p>¿Ya tienes cuenta? <span ><a href="/login">Inicia sesión aquí</a></span></p>
                </div>
            </div>
        </div>
    </div>
    <div class="col-3"></div>
</div>